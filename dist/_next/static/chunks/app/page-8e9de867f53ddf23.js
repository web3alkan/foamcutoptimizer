(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2513:(e,t,a)=>{"use strict";a.d(t,{default:()=>C});var i=a(5155),l=a(2115),n=a(7108),r=a(3311),s=a(1284),o=a(4616),d=a(2525),c=a(3408),h=a(3109),m=a(4229),g=a(4416),u=a(4940),x=a(6740),p=a(4653),b=a(7434),y=a(1788),f=a(7558),v=a(6047),j=a(8842),w=a(4688);function k(e){let{stockFoam:t,position:a}=e;return(0,i.jsxs)("group",{position:a,children:[(0,i.jsx)(v.az,{args:[t.length/10,t.height/10,t.width/10],children:(0,i.jsx)("meshBasicMaterial",{color:"#8B4513",wireframe:!0,transparent:!0,opacity:.3})}),(0,i.jsx)(j.E,{position:[0,t.height/20+1.5,0],fontSize:.8,color:"black",anchorX:"center",anchorY:"middle",children:t.label})]})}function N(e){let{piece:t,basePosition:a,foamPiece:l,separationOffset:n=0}=e,r=[a[0]+t.x/100+n,a[1]+t.z/100+n,a[2]+t.y/100+n];return(0,i.jsxs)("group",{position:r,children:[(0,i.jsx)(v.az,{args:[l.length/10,l.height/10,l.width/10],children:(0,i.jsx)("meshStandardMaterial",{color:l.color||"#4F46E5",transparent:!0,opacity:.9})}),(0,i.jsx)(v.az,{args:[l.length/10,l.height/10,l.width/10],children:(0,i.jsx)("meshBasicMaterial",{color:"#000000",wireframe:!0,transparent:!0,opacity:.8})}),(0,i.jsx)(j.E,{position:[0,l.height/20+.4,0],fontSize:.4,color:"black",anchorX:"center",anchorY:"middle",children:l.label})]})}function z(e){let{pieces:t,stockFoams:a,optimizationResult:n}=e,r=(0,l.useMemo)(()=>{if(!n)return{stockPositions:a.map((e,t)=>[30*t,0,0]),optimizedPieces:[]};let e=[],i=[],l=0;return n.layouts.forEach((a,n)=>{let r=[40*n,0,0];e.push(r),a.pieces.forEach(e=>{let a=t.find(t=>t.id.startsWith(e.pieceId.split("_")[0]));if(a){let t=.3*l;i.push({piece:e,basePosition:r,foamPiece:a,separationOffset:t}),l++}})}),{stockPositions:e,optimizedPieces:i}},[t,a,n]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ambientLight",{intensity:.7}),(0,i.jsx)("pointLight",{position:[20,20,20],intensity:1}),(0,i.jsx)("directionalLight",{position:[-15,15,10],intensity:.8}),a.slice(0,(null==n?void 0:n.layouts.length)||a.length).map((e,t)=>(0,i.jsx)(k,{stockFoam:e,position:r.stockPositions[t]||[0,0,0]},e.id)),r.optimizedPieces.map((e,t)=>(0,i.jsx)(N,{piece:e.piece,basePosition:e.basePosition,foamPiece:e.foamPiece,separationOffset:e.separationOffset},"".concat(e.foamPiece.id,"-").concat(t))),!n&&t.map((e,t)=>(0,i.jsxs)("group",{position:[0,5*t+10,-20],children:[(0,i.jsx)(v.az,{args:[e.length/10,e.height/10,e.width/10],children:(0,i.jsx)("meshStandardMaterial",{color:e.color||"#4F46E5",transparent:!0,opacity:.8})}),(0,i.jsx)(v.az,{args:[e.length/10,e.height/10,e.width/10],children:(0,i.jsx)("meshBasicMaterial",{color:"#000000",wireframe:!0,transparent:!0,opacity:.6})}),(0,i.jsxs)(j.E,{position:[0,e.height/20+1,0],fontSize:.6,color:"black",anchorX:"center",anchorY:"middle",children:[e.label," x",e.quantity]})]},e.id)),n&&(0,i.jsx)(j.E,{position:[0,-8,0],fontSize:1,color:"#333333",anchorX:"center",anchorY:"middle",children:"Par\xe7alar optimum şekilde ayrıştırıldı"}),(0,i.jsx)(w.N,{enablePan:!0,enableZoom:!0,enableRotate:!0,maxPolarAngle:Math.PI/2,minDistance:10,maxDistance:100})]})}function P(e){let{pieces:t,stockFoams:a,optimizationResult:l}=e;return(0,i.jsx)("div",{className:"w-full h-full",children:(0,i.jsx)(f.Hl,{camera:{position:[25,20,25],fov:60},style:{background:"#f8fafc"},children:(0,i.jsx)(z,{pieces:t,stockFoams:a,optimizationResult:l})})})}function F(e){let{pieces:t,stockFoams:a,optimizationResult:n,fixedView:r,showTabs:s=!0,scale:o}=e,[d,c]=(0,l.useState)(r||"top"),h=(0,l.useMemo)(()=>{let e=[];return n.layouts.forEach(i=>{let l=a.find(e=>e.id===i.stockId);if(!l)return;let n=[];i.pieces.forEach(e=>{let a=t.find(t=>t.id.startsWith(e.pieceId.split("_")[0]));a&&n.push({piece:a,x:e.x/10,y:e.y/10,z:e.z/10,width:a.length,height:a.width,depth:a.height})}),e.push({stockId:i.stockId,stockFoam:l,placedPieces:n})}),e},[t,a,n]),m=e=>{switch(d){case"top":return{width:e.length,height:e.width,label1:"".concat(e.length,"cm"),label2:"".concat(e.width,"cm"),depthLabel:"Kalınlık: ".concat(e.height,"cm")};case"front":return{width:e.length,height:e.height,label1:"".concat(e.length,"cm"),label2:"".concat(e.height,"cm"),depthLabel:"Derinlik: ".concat(e.width,"cm")};case"side":return{width:e.width,height:e.height,label1:"".concat(e.width,"cm"),label2:"".concat(e.height,"cm"),depthLabel:"Derinlik: ".concat(e.length,"cm")}}},g=e=>{switch(d){case"top":return{x:e.x,y:e.y,width:e.width,height:e.height,depthInfo:"".concat(e.depth,"cm")};case"front":return{x:e.x,y:e.z,width:e.width,height:e.depth,depthInfo:"".concat(e.height,"cm")};case"side":return{x:e.y,y:e.z,width:e.height,height:e.depth,depthInfo:"".concat(e.width,"cm")}}},u=(0,l.useMemo)(()=>{switch(d){case"top":return{maxWidth:Math.max(...a.map(e=>e.length)),maxHeight:Math.max(...a.map(e=>e.width))};case"front":return{maxWidth:Math.max(...a.map(e=>e.length)),maxHeight:Math.max(...a.map(e=>e.height))};case"side":return{maxWidth:Math.max(...a.map(e=>e.width)),maxHeight:Math.max(...a.map(e=>e.height))}}},[a,d]),x=o||Math.min(280/u.maxWidth,180/u.maxHeight);return(0,i.jsxs)("div",{className:"w-full h-full bg-white",children:[s&&(0,i.jsx)("div",{className:"border-b border-gray-200 mb-4",children:(0,i.jsx)("div",{className:"flex space-x-1",children:[{key:"top",label:"Yukarıdan",subtitle:"X-Y"},{key:"front",label:"\xd6nden",subtitle:"X-Z"},{key:"side",label:"Yandan",subtitle:"Y-Z"}].map(e=>(0,i.jsx)("button",{onClick:()=>!r&&c(e.key),disabled:void 0!==r,className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors ".concat(d===e.key?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"," ").concat(r?"cursor-not-allowed":"cursor-pointer"),children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-semibold",children:e.label}),(0,i.jsx)("div",{className:"text-xs opacity-75",children:e.subtitle})]})},e.key))})}),(0,i.jsx)("div",{className:"overflow-auto max-h-60",children:(0,i.jsx)("div",{className:"flex flex-wrap gap-6 justify-center",children:h.map((e,t)=>{var a;let l=m(e.stockFoam);return(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:["Blok ",t+1]}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:e.stockFoam.label})]}),(0,i.jsxs)("div",{className:"relative bg-white border border-gray-300 rounded-lg shadow-sm",children:[(0,i.jsx)("div",{className:"p-4",children:(0,i.jsxs)("div",{className:"relative bg-amber-50 border-2 border-amber-200 rounded",style:{width:l.width*x,height:l.height*x},children:[e.placedPieces.map((e,t)=>{let a=g(e);return(0,i.jsx)("div",{className:"absolute border border-gray-800 flex items-center justify-center text-white text-xs font-medium",style:{left:a.x*x,top:a.y*x,width:a.width*x,height:a.height*x,backgroundColor:e.piece.color||"#4F46E5"},children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-bold",children:e.piece.label}),(0,i.jsx)("div",{className:"opacity-90",children:a.depthInfo})]})},t)}),(0,i.jsx)("div",{className:"absolute -bottom-6 left-0 right-0 text-center",children:(0,i.jsx)("span",{className:"text-xs text-gray-600 bg-white px-2 py-1 rounded border",children:l.label1})}),(0,i.jsx)("div",{className:"absolute -left-6 top-0 bottom-0 flex items-center",children:(0,i.jsx)("div",{className:"transform -rotate-90",children:(0,i.jsx)("span",{className:"text-xs text-gray-600 bg-white px-2 py-1 rounded border whitespace-nowrap",children:l.label2})})})]})}),(0,i.jsx)("div",{className:"border-t border-gray-200 px-4 py-2 bg-gray-50",children:(0,i.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,i.jsx)("span",{className:"text-gray-700",children:l.depthLabel}),(0,i.jsxs)("span",{className:"text-green-600 font-semibold",children:["%",null==(a=n.layouts[t])?void 0:a.utilization.toFixed(1)]})]})})]})]},e.stockId)})})}),s&&(0,i.jsx)("div",{className:"mt-6 bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("div",{className:"font-semibold text-gray-900 mb-2",children:"top"===d?"Yukarıdan Bakış":"front"===d?"\xd6nden Bakış":"Yandan Bakış"}),(0,i.jsxs)("div",{className:"text-gray-600 space-y-1",children:["top"===d&&(0,i.jsx)("div",{children:"• Uzunluk \xd7 Genişlik boyutları, kalınlık par\xe7alarda g\xf6sterilir"}),"front"===d&&(0,i.jsx)("div",{children:"• Uzunlık \xd7 Kalınlık boyutları, derinlik par\xe7alarda g\xf6sterilir"}),"side"===d&&(0,i.jsx)("div",{children:"• Genişlik \xd7 Kalınlık boyutları, derinlik par\xe7alarda g\xf6sterilir"}),(0,i.jsx)("div",{children:"• Her renkli alan bir par\xe7ayı temsil eder"})]})]})})]})}class D{getRotations(e){let{length:t,width:a,height:i}=e;return[{length:t,width:a,height:i,rotationId:0},{length:a,width:t,height:i,rotationId:1},{length:t,width:i,height:a,rotationId:2},{length:i,width:a,height:t,rotationId:3},{length:a,width:i,height:t,rotationId:4},{length:i,width:t,height:a,rotationId:5},{length:i,width:a,height:t,rotationId:6}].filter((e,t,a)=>!a.slice(0,t).some(t=>t.length===e.length&&t.width===e.width&&t.height===e.height))}canFit(e,t,a,i,l){let{length:n,width:r,height:s}=l;if(t+n>this.stockLength||a+r>this.stockWidth||i+s>this.stockHeight)return!1;for(let e of this.placedPieces)if(this.isOverlapping(t,a,i,n,r,s,e.x,e.y,e.z,e.length,e.width,e.height))return!1;return!0}isOverlapping(e,t,a,i,l,n,r,s,o,d,c,h){return!(e>=r+d||r>=e+i||t>=s+c||s>=t+l||a>=o+h||o>=a+n)}findBestPosition(e){let t=this.generateCandidatePositions(),a=this.getRotations(e);for(let i of t)for(let t of a)if(this.canFit(e,i.x,i.y,i.z,t))return{...i,rotation:t};return null}generateCandidatePositions(){let e=[];for(let t of(e.push({x:0,y:0,z:0}),this.placedPieces))e.push({x:t.x+t.length,y:t.y,z:t.z},{x:t.x,y:t.y+t.width,z:t.z},{x:t.x,y:t.y,z:t.z+t.height});return e.sort((e,t)=>e.z!==t.z?e.z-t.z:e.y!==t.y?e.y-t.y:e.x-t.x)}addPiece(e,t,a,i,l){return!!this.canFit(e,t,a,i,l)&&(this.placedPieces.push({pieceId:e.id,x:t,y:a,z:i,length:l.length,width:l.width,height:l.height,rotated:l.rotationId>0}),!0)}getUtilization(){return this.placedPieces.reduce((e,t)=>e+t.length*t.width*t.height,0)/(this.stockLength*this.stockWidth*this.stockHeight)*100}getPlacedPieces(){return[...this.placedPieces]}constructor(e,t,a){this.placedPieces=[],this.stockLength=e,this.stockWidth=t,this.stockHeight=a}}class q{async optimize(e,t){await new Promise(e=>setTimeout(e,800));let a=[],i=0,l=0,n=0,r=[...this.expandPieces(e).sort((e,t)=>{let a=e.length*e.width*e.height;return t.length*t.width*t.height-a})],s=0;for(;r.length>0&&s<t.length;){let e=t[s],o=new D(e.length,e.width,e.height),d=0,c=0;for(;c<r.length;){let e=r[c],t=o.findBestPosition(e);t?(o.addPiece(e,t.x,t.y,t.z,t.rotation),r.splice(c,1),d++):c++}if(d>0){let t=o.getUtilization(),r=e.length*e.width*e.height;a.push({stockId:e.id,pieces:o.getPlacedPieces(),utilization:t}),i+=r*t/100,l+=r,n+=e.price||0}s++}let o=l>0?i/l*100:0;return{layouts:a,totalWaste:100-o,totalCost:n,efficiency:o}}expandPieces(e){let t=[];return e.forEach(e=>{for(let a=0;a<e.quantity;a++)t.push({...e,id:"".concat(e.id,"_").concat(a),quantity:1})}),t}}function C(){let[e,t]=(0,l.useState)([{id:"1",length:30,width:40,height:20,quantity:2,label:"Par\xe7a A",color:"#3B82F6"},{id:"2",length:40,width:90,height:10,quantity:4,label:"Par\xe7a B",color:"#10B981"},{id:"3",length:50,width:30,height:20,quantity:1,label:"Par\xe7a C",color:"#F59E0B"},{id:"4",length:100,width:90,height:7.5,quantity:6,label:"Par\xe7a D",color:"#EF4444"},{id:"5",length:60,width:40,height:30,quantity:1,label:"Par\xe7a E",color:"#8B5CF6"}]),[a,f]=(0,l.useState)([{id:"stock1",length:240,width:240,height:100,quantity:1,label:"B\xfcy\xfck S\xfcnger Blok"}]),[v,j]=(0,l.useState)(null),[w,k]=(0,l.useState)(!1),[N,z]=(0,l.useState)(null),[D,C]=(0,l.useState)(null),[A,M]=(0,l.useState)({length:"",width:"",height:"",quantity:"",label:""}),[S,E]=(0,l.useState)({length:"",width:"",height:"",quantity:"1",label:"Par\xe7a"}),[B,I]=(0,l.useState)({length:"",width:"",height:"",quantity:"1",label:"S\xfcnger Blok"}),T=async()=>{if(0===e.length)return void alert("\xd6nce par\xe7a ekleyin!");console.log("Maksimizasyon başlıyor..."),k(!0),z("Maksimum adetler hesaplanıyor...");try{let i=a.reduce((e,t)=>e+t.length*t.width*t.height*t.quantity,0);console.log("Toplam ham malzeme hacmi:",i,"cm\xb3");let l=e.reduce((e,t)=>e+t.length*t.width*t.height*t.quantity,0);if(console.log("Mevcut par\xe7alar toplam hacmi:",l,"cm\xb3"),l>=i){z("Mevcut par\xe7alar zaten t\xfcm bloklara sığmıyor! Par\xe7a adetlerini azaltın."),k(!1);return}let n=i-l;console.log("Kalan hacim:",n,"cm\xb3");let r=[...e.map(t=>({...t,unitVolume:t.length*t.width*t.height,index:e.findIndex(e=>e.id===t.id)}))].sort((e,t)=>e.unitVolume-t.unitVolume),s=[...e],o=0;for(let e of r){let t=n-o,a=Math.floor(t/e.unitVolume);if(console.log("".concat(e.label,": Unit hacim ").concat(e.unitVolume,", maksimum ek adet: ").concat(a)),a>0){let t=s.findIndex(t=>t.id===e.id);if(-1!==t){let i=s[t].quantity+a;s[t]={...s[t],quantity:i},o+=a*e.unitVolume,console.log("".concat(e.label," g\xfcncellendi: ").concat(e.quantity," -> ").concat(i))}}}if(s.some((t,a)=>t.quantity!==e[a].quantity)){let e=s.reduce((e,t)=>e+t.length*t.width*t.height*t.quantity,0),a=(e/i*100).toFixed(1);console.log("Maksimizasyon tamamlandı:",{öncekiToplam:l,yeniToplam:e,verimlilik:a+"%"}),t(s),z("Par\xe7alar maksimize edildi! Toplam verimlilik: %".concat(a))}else console.log("Par\xe7alar zaten maksimum seviyede"),z("Par\xe7alar zaten maksimum seviyede! Daha fazla eklenemez.")}catch(e){console.error("Maksimizasyon hatası:",e),z("Maksimizasyon sırasında hata oluştu: "+e.message)}finally{k(!1)}};(0,l.useEffect)(()=>{if(N){let e=setTimeout(()=>z(null),5e3);return()=>clearTimeout(e)}},[N]);let V=async()=>{if(0!==e.length){k(!0);try{let t=e.map(e=>({...e,length:10*e.length,width:10*e.width,height:10*e.height})),i=a.map(e=>({...e,length:10*e.length,width:10*e.width,height:10*e.height})),l=new q,n=await l.optimize(t,i);j(n)}catch(e){console.error("Optimizasyon hatası:",e)}finally{k(!1)}}},H=a=>{t(e.filter(e=>e.id!==a))},K=e=>{f(a.filter(t=>t.id!==e))},L=e=>{C(e.id),M({length:e.length.toString(),width:e.width.toString(),height:e.height.toString(),quantity:e.quantity.toString(),label:e.label})},Y=()=>{D&&A.length&&A.width&&A.height&&A.quantity&&A.label&&(t(e.map(e=>e.id===D?{...e,length:parseFloat(A.length),width:parseFloat(A.width),height:parseFloat(A.height),quantity:parseInt(A.quantity),label:A.label}:e)),C(null),M({length:"",width:"",height:"",quantity:"",label:""}))},O=()=>{C(null),M({length:"",width:"",height:"",quantity:"",label:""})},G=(0,l.useMemo)(()=>({totalPieces:e.reduce((e,t)=>e+t.quantity,0),totalVolume:e.reduce((e,t)=>e+t.length*t.width*t.height*t.quantity,0)}),[e]),R=async()=>{if(!v)return void alert("\xd6nce optimizasyon yapın!");k(!0),z("Kalan par\xe7alar optimize ediliyor...");try{let i=v.layouts.map((e,t)=>{let i=a.find(t=>t.id===e.stockId);if(!i)return null;let l=i.length*i.width*i.height,n=l*e.utilization/100,r=l-n;return{blockIndex:t+1,stockLabel:i.label,totalVolume:l,usedVolume:n,wasteVolume:r,wastePercentage:(r/l*100).toFixed(1),stockDimensions:{length:i.length,width:i.width,height:i.height}}}).filter(Boolean);if(1e3>i.reduce((e,t)=>e+t.wasteVolume,0)){z("İsraf miktarı \xe7ok d\xfcş\xfck. Ekstra optimizasyon gerekmiyor!"),k(!1);return}let l=e.reduce((e,t)=>{let a=t.length*t.width*t.height,i=e.length*e.width*e.height;return a<i?t:e}),n=0;if(i.forEach(e=>{if(!e)return;let t=Math.floor(e.wasteVolume/(l.length*l.width*l.height));n+=t}),n>0){let a=e.map(e=>e.id===l.id?{...e,quantity:e.quantity+n}:e);t(a),z("İsraf optimize edildi! ".concat(n,' adet "').concat(l.label,'" daha eklenebilir. Tekrar optimizasyon yapın.'))}else z("İsraf par\xe7aları mevcut par\xe7a boyutlarına uygun değil. Daha k\xfc\xe7\xfck par\xe7alar deneyin.")}catch(e){console.error("İsraf optimizasyon hatası:",e),z("İsraf optimizasyonu sırasında hata oluştu.")}finally{k(!1)}};return(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,i.jsx)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,i.jsx)("div",{className:"container mx-auto px-6 py-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:(0,i.jsx)(n.A,{className:"w-6 h-6 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"S\xfcnger Kesim Optimizasyonu"}),(0,i.jsx)("p",{className:"text-gray-600",children:"3D optimizasyon ile minimum israf"})]})]}),(0,i.jsx)(r.A,{className:"w-6 h-6 text-blue-600"})]})})}),N&&(0,i.jsx)("div",{className:"mx-6 mt-4",children:(0,i.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(s.A,{className:"w-5 h-5 text-amber-600 mr-3"}),(0,i.jsx)("p",{className:"text-amber-800 font-medium",children:N})]})})}),(0,i.jsx)("div",{className:"container mx-auto p-6",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,i.jsx)("div",{className:"border-b border-gray-100 px-6 py-4",children:(0,i.jsxs)("h2",{className:"font-semibold text-gray-900 flex items-center",children:[(0,i.jsx)(n.A,{className:"w-5 h-5 text-orange-500 mr-2"}),"Ham Malzeme"]})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[(0,i.jsx)("input",{type:"number",step:"0.1",placeholder:"Uzunluk",value:B.length,onChange:e=>I({...B,length:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),(0,i.jsx)("input",{type:"number",step:"0.1",placeholder:"Genişlik",value:B.width,onChange:e=>I({...B,width:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),(0,i.jsx)("input",{type:"number",step:"0.1",placeholder:"Kalınlık",value:B.height,onChange:e=>I({...B,height:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),(0,i.jsx)("input",{type:"number",placeholder:"Adet",value:B.quantity,onChange:e=>I({...B,quantity:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),(0,i.jsx)("input",{type:"text",placeholder:"Malzeme adı",value:B.label,onChange:e=>I({...B,label:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 mb-4"}),(0,i.jsxs)("button",{onClick:()=>{B.length&&B.width&&B.height&&B.label&&(f([...a,{id:Date.now().toString(),length:parseFloat(B.length),width:parseFloat(B.width),height:parseFloat(B.height),quantity:parseInt(B.quantity),label:B.label}]),I({length:"",width:"",height:"",quantity:"1",label:"S\xfcnger Blok"}))},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center font-medium",children:[(0,i.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Malzeme Ekle"]}),(0,i.jsx)("div",{className:"mt-4 space-y-2",children:a.map(e=>(0,i.jsxs)("div",{className:"flex justify-between items-center bg-orange-50 border border-orange-100 p-3 rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[e.length,"\xd7",e.width,"\xd7",e.height,"cm \xd7 ",e.quantity," adet"]})]}),(0,i.jsx)("button",{onClick:()=>K(e.id),className:"text-red-500 hover:text-red-700 p-1",children:(0,i.jsx)(d.A,{className:"w-4 h-4"})})]},e.id))})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,i.jsxs)("div",{className:"border-b border-gray-100 px-6 py-4 flex justify-between items-center",children:[(0,i.jsxs)("h2",{className:"font-semibold text-gray-900 flex items-center",children:[(0,i.jsx)(c.A,{className:"w-5 h-5 text-blue-500 mr-2"}),"Kesilecek Par\xe7alar"]}),e.length>0&&(0,i.jsx)("button",{onClick:T,disabled:w,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-4 py-2 rounded-lg flex items-center text-sm font-medium",children:w?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Hesaplanıyor..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"MAKSİMİZE ET"]})})]}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[(0,i.jsx)("input",{type:"number",step:"0.1",placeholder:"Uzunluk",value:S.length,onChange:e=>E({...S,length:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,i.jsx)("input",{type:"number",step:"0.1",placeholder:"Genişlik",value:S.width,onChange:e=>E({...S,width:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,i.jsx)("input",{type:"number",step:"0.1",placeholder:"Kalınlık",value:S.height,onChange:e=>E({...S,height:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,i.jsx)("input",{type:"number",placeholder:"Adet",value:S.quantity,onChange:e=>E({...S,quantity:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,i.jsx)("button",{onClick:()=>{if(!S.length||!S.width||!S.height||0===a.length)return void alert("\xd6nce par\xe7a \xf6l\xe7\xfclerini girin!");let e=parseFloat(S.length),t=parseFloat(S.width),i=parseFloat(S.height),l=0;a.forEach(a=>{let n=0;[[e,t,i],[e,i,t],[t,e,i],[t,i,e],[i,e,t],[i,t,e]].forEach(e=>{let[t,i,l]=e,r=Math.floor(a.length/t),s=Math.floor(a.width/i),o=Math.floor(a.height/l);n=Math.max(n,r*s*o)}),l+=n*a.quantity}),E({...S,quantity:l.toString()})},className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-medium",title:"Bu par\xe7a i\xe7in maksimum adet hesapla",children:"MAX ADET"})]}),(0,i.jsx)("input",{type:"text",placeholder:"Par\xe7a adı",value:S.label,onChange:e=>E({...S,label:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mb-4"}),(0,i.jsxs)("button",{onClick:()=>{S.length&&S.width&&S.height&&S.label&&(t([...e,{id:Date.now().toString(),length:parseFloat(S.length),width:parseFloat(S.width),height:parseFloat(S.height),quantity:parseInt(S.quantity),label:S.label,color:"hsl(".concat(360*Math.random(),", 65%, 55%)")}]),E({length:"",width:"",height:"",quantity:"1",label:"Par\xe7a"}))},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center font-medium",children:[(0,i.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Par\xe7a Ekle"]}),(0,i.jsxs)("div",{className:"mt-4 space-y-2 max-h-64 overflow-y-auto",children:[e.map(e=>(0,i.jsx)("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-lg",children:D===e.id?(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,i.jsx)("input",{type:"number",step:"0.1",placeholder:"Uzunluk",value:A.length,onChange:e=>M({...A,length:e.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-sm"}),(0,i.jsx)("input",{type:"number",step:"0.1",placeholder:"Genişlik",value:A.width,onChange:e=>M({...A,width:e.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-sm"}),(0,i.jsx)("input",{type:"number",step:"0.1",placeholder:"Kalınlık",value:A.height,onChange:e=>M({...A,height:e.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-sm"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("input",{type:"number",placeholder:"Adet",value:A.quantity,onChange:e=>M({...A,quantity:e.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-sm"}),(0,i.jsx)("input",{type:"text",placeholder:"Par\xe7a adı",value:A.label,onChange:e=>M({...A,label:e.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-sm"})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)("button",{onClick:Y,className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm flex items-center",children:[(0,i.jsx)(m.A,{className:"w-3 h-3 mr-1"}),"Kaydet"]}),(0,i.jsxs)("button",{onClick:O,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm flex items-center",children:[(0,i.jsx)(g.A,{className:"w-3 h-3 mr-1"}),"İptal"]})]})]}):(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[e.length,"\xd7",e.width,"\xd7",e.height,"cm \xd7 ",e.quantity," adet"]})]}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)("button",{onClick:()=>L(e),className:"text-blue-500 hover:text-blue-700 p-1",title:"D\xfczenle",children:(0,i.jsx)(u.A,{className:"w-4 h-4"})}),(0,i.jsx)("button",{onClick:()=>H(e.id),className:"text-red-500 hover:text-red-700 p-1",title:"Sil",children:(0,i.jsx)(d.A,{className:"w-4 h-4"})})]})]})},e.id)),0===e.length&&(0,i.jsxs)("div",{className:"text-center text-gray-500 py-8 border-2 border-dashed border-gray-200 rounded-lg",children:[(0,i.jsx)(c.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,i.jsx)("p",{children:"Hen\xfcz par\xe7a eklenmedi"})]})]})]})]}),(0,i.jsx)("button",{onClick:V,disabled:0===e.length||w,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold py-4 rounded-xl flex items-center justify-center",children:w?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Hesaplanıyor..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.A,{className:"w-5 h-5 mr-2"}),"Optimizasyonu Hesapla"]})})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 text-center",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:G.totalPieces}),(0,i.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Toplam Par\xe7a"})]}),(0,i.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 text-center",children:[(0,i.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:[(G.totalVolume/1e3).toFixed(1),"L"]}),(0,i.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Toplam Hacim"})]})]}),v&&(0,i.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,i.jsx)("div",{className:"border-b border-gray-100 px-6 py-4",children:(0,i.jsx)("h2",{className:"font-semibold text-gray-900",children:"Optimizasyon Sonu\xe7ları"})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:v.layouts.length}),(0,i.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Kullanılan Blok"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[v.efficiency.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Verimlilik"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:[v.totalWaste.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"İsraf"})]})]}),v.totalWaste>5&&(0,i.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-yellow-800",children:"İsraf Azaltılabilir"}),(0,i.jsx)("p",{className:"text-sm text-yellow-600",children:"Kalan par\xe7alar daha k\xfc\xe7\xfck par\xe7alara b\xf6l\xfcnebilir"})]}),(0,i.jsx)("button",{onClick:R,disabled:w,className:"bg-yellow-500 hover:bg-yellow-600 disabled:bg-gray-400 text-white font-medium px-4 py-2 rounded-lg flex items-center text-sm",children:w?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Hesaplanıyor..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"İsrafı Azalt"]})})]})})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,i.jsx)("div",{className:"border-b border-gray-100 px-6 py-4",children:(0,i.jsx)("h2",{className:"font-semibold text-gray-900",children:"3D G\xf6rselleştirme"})}),(0,i.jsx)("div",{className:"p-6",children:(0,i.jsx)("div",{className:"h-96 bg-gray-50 rounded-lg border border-gray-200",children:(0,i.jsx)(P,{pieces:e,stockFoams:a,optimizationResult:v})})})]})]})]})}),v&&(0,i.jsxs)("div",{className:"container mx-auto p-6",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:[(0,i.jsx)(p.A,{className:"w-6 h-6 text-purple-500 mr-3"}),"2D Kesit G\xf6r\xfcn\xfcmleri - T\xfcm A\xe7ılar"]}),(0,i.jsx)("p",{className:"text-gray-600",children:"Her g\xf6r\xfcn\xfcm farklı a\xe7ıdan kesilmiş par\xe7aları g\xf6sterir"})]}),(0,i.jsxs)("div",{className:"mb-8 bg-white rounded-xl border border-gray-200 shadow-lg",children:[(0,i.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 px-6 py-4 rounded-t-xl",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-white flex items-center",children:"\uD83D\uDD3D Yukarıdan G\xf6r\xfcn\xfcm (X-Y D\xfczlemi)"}),(0,i.jsx)("p",{className:"text-blue-100 text-sm",children:"Uzunluk \xd7 Genişlik boyutları g\xf6r\xfcn\xfcr, kalınlık par\xe7alarda g\xf6sterilir"})]}),(0,i.jsx)("div",{className:"p-8",children:(0,i.jsx)("div",{className:"min-h-96 bg-gray-50 rounded-lg border border-gray-200",children:(0,i.jsx)(F,{pieces:e,stockFoams:a,optimizationResult:v,fixedView:"top",showTabs:!1,scale:1.5})})})]}),(0,i.jsxs)("div",{className:"mb-8 bg-white rounded-xl border border-gray-200 shadow-lg",children:[(0,i.jsxs)("div",{className:"bg-gradient-to-r from-emerald-500 to-green-500 px-6 py-4 rounded-t-xl",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-white flex items-center",children:"➡️ \xd6nden G\xf6r\xfcn\xfcm (X-Z D\xfczlemi)"}),(0,i.jsx)("p",{className:"text-emerald-100 text-sm",children:"Uzunluk \xd7 Kalınlık boyutları g\xf6r\xfcn\xfcr, derinlik par\xe7alarda g\xf6sterilir"})]}),(0,i.jsx)("div",{className:"p-8",children:(0,i.jsx)("div",{className:"min-h-96 bg-gray-50 rounded-lg border border-gray-200",children:(0,i.jsx)(F,{pieces:e,stockFoams:a,optimizationResult:v,fixedView:"front",showTabs:!1,scale:1.5})})})]}),(0,i.jsxs)("div",{className:"mb-8 bg-white rounded-xl border border-gray-200 shadow-lg",children:[(0,i.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-4 rounded-t-xl",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-white flex items-center",children:"⬅️ Yandan G\xf6r\xfcn\xfcm (Y-Z D\xfczlemi)"}),(0,i.jsx)("p",{className:"text-purple-100 text-sm",children:"Genişlik \xd7 Kalınlık boyutları g\xf6r\xfcn\xfcr, derinlik par\xe7alarda g\xf6sterilir"})]}),(0,i.jsx)("div",{className:"p-8",children:(0,i.jsx)("div",{className:"min-h-96 bg-gray-50 rounded-lg border border-gray-200",children:(0,i.jsx)(F,{pieces:e,stockFoams:a,optimizationResult:v,fixedView:"side",showTabs:!1,scale:1.5})})})]})]}),v&&(0,i.jsx)("div",{className:"container mx-auto p-6",children:(0,i.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-lg p-8 text-center",children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"\uD83D\uDCC4 Detaylı Rapor"}),(0,i.jsx)("p",{className:"text-gray-600",children:"T\xfcm optimizasyon sonu\xe7larını, malzeme listelerini ve kesim planlarını i\xe7eren kapsamlı PDF raporu oluşturun."})]}),(0,i.jsxs)("button",{onClick:()=>{if(!v)return void alert("\xd6nce optimizasyon yapın!");let t=(t,i)=>{let l=v.layouts.map((i,l)=>{let n,r,s,o=a.find(e=>e.id===i.stockId);if(!o)return"";switch(t){case"top":n=o.length,r=o.width,s="Kalınlık: ".concat(o.height,"cm");break;case"front":n=o.length,r=o.height,s="Derinlik: ".concat(o.width,"cm");break;case"side":n=o.width,r=o.height,s="Derinlik: ".concat(o.length,"cm")}let d=Math.min(400/n,300/r),c=n*d,h=r*d,m=i.pieces.map(a=>{let i,l,n,r,s,o=e.find(e=>a.pieceId.startsWith(e.id));if(!o)return"";switch(t){case"top":i=a.x/10*d,l=a.y/10*d,n=o.length*d,r=o.width*d,s="".concat(o.height,"cm");break;case"front":i=a.x/10*d,l=a.z/10*d,n=o.length*d,r=o.height*d,s="".concat(o.width,"cm");break;case"side":i=a.y/10*d,l=a.z/10*d,n=o.width*d,r=o.height*d,s="".concat(o.length,"cm")}return'\n            <rect x="'.concat(i,'" y="').concat(l,'" width="').concat(n,'" height="').concat(r,'" \n                  fill="').concat(o.color||"#4F46E5",'" \n                  stroke="#000" stroke-width="1" opacity="0.8"/>\n            <text x="').concat(i+n/2,'" y="').concat(l+r/2,'" \n                  text-anchor="middle" dominant-baseline="middle" \n                  fill="white" font-size="10" font-weight="bold">\n              ').concat(o.label,'\n            </text>\n            <text x="').concat(i+n/2,'" y="').concat(l+r/2+12,'" \n                  text-anchor="middle" dominant-baseline="middle" \n                  fill="white" font-size="8">\n              ').concat(s,"\n            </text>\n          ")}).join("");return'\n          <div style="margin-bottom: 40px; text-align: center;">\n            <h3 style="margin-bottom: 10px;">Blok '.concat(l+1," - ").concat(o.label,'</h3>\n            <p style="margin-bottom: 15px; color: #666;">').concat(s," | Verimlilik: ").concat(i.utilization.toFixed(1),'%</p>\n            <svg width="').concat(c+80,'" height="').concat(h+80,'" style="border: 2px solid #ddd; background: #f9f9f9;">\n              <rect x="40" y="40" width="').concat(c,'" height="').concat(h,'" \n                    fill="#fff3cd" stroke="#ffc107" stroke-width="2"/>\n              ').concat(m,'\n              <text x="').concat(40+c/2,'" y="').concat(h+65,'" \n                    text-anchor="middle" font-size="12" fill="#666">\n                ').concat(n,'cm\n              </text>\n              <text x="25" y="').concat(40+h/2,'" \n                    text-anchor="middle" font-size="12" fill="#666" \n                    transform="rotate(-90, 25, ').concat(40+h/2,')">\n                ').concat(r,"cm\n              </text>\n            </svg>\n          </div>\n        ")}).join("");return'\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <title>'.concat(i,'</title>\n          <style>\n            @page { margin: 20mm; size: A4; }\n            body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }\n            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }\n            .logo { max-width: 100px; height: auto; margin-bottom: 10px; }\n            h1 { color: #333; margin: 10px 0; }\n            .subtitle { color: #666; margin-bottom: 20px; }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <img src="/logo.jpeg" alt="Logo" class="logo">\n            <h1>').concat(i,"</h1>\n            <p>Oluşturulma Tarihi: ").concat(new Date().toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),"</p>\n          </div>\n          ").concat(l,"\n        </body>\n        </html>\n      ")},i={title:"S\xfcnger Kesim Optimizasyon Raporu",date:new Date().toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),summary:{totalPieces:G.totalPieces,totalVolume:(G.totalVolume/1e3).toFixed(1)+"L",efficiency:v.efficiency.toFixed(1)+"%",waste:v.totalWaste.toFixed(1)+"%",blocksUsed:v.layouts.length},stockMaterials:a.map(e=>({label:e.label,dimensions:"".concat(e.length,"\xd7").concat(e.width,"\xd7").concat(e.height,"cm"),quantity:e.quantity,volume:(e.length*e.width*e.height*e.quantity/1e3).toFixed(1)+"L"})),pieces:e.map(e=>({label:e.label,dimensions:"".concat(e.length,"\xd7").concat(e.width,"\xd7").concat(e.height,"cm"),quantity:e.quantity,unitVolume:(e.length*e.width*e.height/1e3).toFixed(3)+"L",totalVolume:(e.length*e.width*e.height*e.quantity/1e3).toFixed(1)+"L"})),layouts:v.layouts.map((t,i)=>{let l=a.find(e=>e.id===t.stockId);return{blockNumber:i+1,stockLabel:(null==l?void 0:l.label)||"Bilinmeyen",utilization:t.utilization.toFixed(1)+"%",piecesCount:t.pieces.length,pieces:t.pieces.map(t=>{let a=e.find(e=>t.pieceId.startsWith(e.id));return{label:(null==a?void 0:a.label)||"Bilinmeyen",position:"X:".concat((t.x/10).toFixed(1),", Y:").concat((t.y/10).toFixed(1),", Z:").concat((t.z/10).toFixed(1),"cm"),rotated:t.rotated?"Evet":"Hayır"}})}})},l='\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset="utf-8">\n        <title>'.concat(i.title,'</title>\n        <style>\n          @page { margin: 20mm; size: A4; }\n          body { font-family: Arial, sans-serif; margin: 0; padding: 20px; line-height: 1.6; }\n          .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }\n          .logo { max-width: 120px; height: auto; margin-bottom: 15px; }\n          .section { margin-bottom: 30px; page-break-inside: avoid; }\n          .section h2 { color: #333; border-bottom: 1px solid #ddd; padding-bottom: 10px; }\n          .summary-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 20px 0; }\n          .summary-item { background: #f5f5f5; padding: 15px; border-radius: 8px; text-align: center; }\n          .summary-value { font-size: 24px; font-weight: bold; color: #2563eb; }\n          .summary-label { color: #666; margin-top: 5px; }\n          table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n          th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }\n          th { background-color: #f8f9fa; font-weight: bold; }\n          .layout-section { margin: 20px 0; padding: 15px; background: #f9f9f9; border-radius: 8px; }\n          .piece-position { font-family: monospace; font-size: 12px; }\n          .rotated-yes { color: #ef4444; font-weight: bold; }\n          .rotated-no { color: #10b981; }\n          .page-break { page-break-before: always; }\n        </style>\n      </head>\n      <body>\n        <div class="header">\n          <img src="/logo.jpeg" alt="Logo" class="logo">\n          <h1>').concat(i.title,"</h1>\n          <p>Oluşturulma Tarihi: ").concat(i.date,'</p>\n        </div>\n        \n        <div class="section">\n          <h2>\uD83D\uDCCA \xd6zet Bilgiler</h2>\n          <div class="summary-grid">\n            <div class="summary-item">\n              <div class="summary-value">').concat(i.summary.totalPieces,'</div>\n              <div class="summary-label">Toplam Par\xe7a</div>\n            </div>\n            <div class="summary-item">\n              <div class="summary-value">').concat(i.summary.totalVolume,'</div>\n              <div class="summary-label">Toplam Hacim</div>\n            </div>\n            <div class="summary-item">\n              <div class="summary-value">').concat(i.summary.efficiency,'</div>\n              <div class="summary-label">Verimlilik</div>\n            </div>\n            <div class="summary-item">\n              <div class="summary-value">').concat(i.summary.waste,'</div>\n              <div class="summary-label">İsraf</div>\n            </div>\n            <div class="summary-item">\n              <div class="summary-value">').concat(i.summary.blocksUsed,'</div>\n              <div class="summary-label">Kullanılan Blok</div>\n            </div>\n          </div>\n        </div>\n\n        <div class="section">\n          <h2>\uD83D\uDCE6 Ham Malzemeler</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Malzeme Adı</th>\n                <th>Boyutlar</th>\n                <th>Adet</th>\n                <th>Toplam Hacim</th>\n              </tr>\n            </thead>\n            <tbody>\n              ').concat(i.stockMaterials.map(e=>"\n                <tr>\n                  <td>".concat(e.label,"</td>\n                  <td>").concat(e.dimensions,"</td>\n                  <td>").concat(e.quantity,"</td>\n                  <td>").concat(e.volume,"</td>\n                </tr>\n              ")).join(""),'\n            </tbody>\n          </table>\n        </div>\n\n        <div class="section">\n          <h2>✂️ Kesilecek Par\xe7alar</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Par\xe7a Adı</th>\n                <th>Boyutlar</th>\n                <th>Adet</th>\n                <th>Birim Hacim</th>\n                <th>Toplam Hacim</th>\n              </tr>\n            </thead>\n            <tbody>\n              ').concat(i.pieces.map(e=>"\n                <tr>\n                  <td>".concat(e.label,"</td>\n                  <td>").concat(e.dimensions,"</td>\n                  <td>").concat(e.quantity,"</td>\n                  <td>").concat(e.unitVolume,"</td>\n                  <td>").concat(e.totalVolume,"</td>\n                </tr>\n              ")).join(""),'\n            </tbody>\n          </table>\n        </div>\n\n        <div class="section">\n          <h2>\uD83C\uDFAF Optimizasyon Sonu\xe7ları</h2>\n          ').concat(i.layouts.map(e=>'\n            <div class="layout-section">\n              <h3>Blok '.concat(e.blockNumber," - ").concat(e.stockLabel,"</h3>\n              <p><strong>Verimlilik:</strong> ").concat(e.utilization," | <strong>Par\xe7a Sayısı:</strong> ").concat(e.piecesCount,"</p>\n              <table>\n                <thead>\n                  <tr>\n                    <th>Par\xe7a Adı</th>\n                    <th>Pozisyon (cm)</th>\n                    <th>D\xf6nd\xfcr\xfcld\xfc m\xfc?</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  ").concat(e.pieces.map(e=>"\n                    <tr>\n                      <td>".concat(e.label,'</td>\n                      <td class="piece-position">').concat(e.position,'</td>\n                      <td class="').concat("Evet"===e.rotated?"rotated-yes":"rotated-no",'">').concat(e.rotated,"</td>\n                    </tr>\n                  ")).join(""),"\n                </tbody>\n              </table>\n            </div>\n          ")).join(""),'\n        </div>\n\n        \x3c!-- 2D Kesit G\xf6r\xfcn\xfcmleri --\x3e\n        <div class="page-break">\n          ').concat(t("top","\uD83D\uDD3D Yukarıdan G\xf6r\xfcn\xfcm (X-Y D\xfczlemi)"),'\n        </div>\n\n        <div class="page-break">\n          ').concat(t("front","➡️ \xd6nden G\xf6r\xfcn\xfcm (X-Z D\xfczlemi)"),'\n        </div>\n\n        <div class="page-break">\n          ').concat(t("side","⬅️ Yandan G\xf6r\xfcn\xfcm (Y-Z D\xfczlemi)"),'\n        </div>\n\n        <div class="section page-break">\n          <h2>\uD83D\uDCCB Notlar</h2>\n          <ul>\n            <li>Bu rapor AI destekli 3D optimizasyon algoritması kullanılarak oluşturulmuştur.</li>\n            <li>Par\xe7alar 8 farklı rotasyon se\xe7eneği ile optimize edilmiştir.</li>\n            <li>Pozisyon değerleri sol-alt-\xf6n k\xf6şeden başlayarak cm cinsindedir.</li>\n            <li>Verimlilik y\xfczdesi kullanılan hacmin toplam hacme oranını g\xf6sterir.</li>\n            <li>D\xf6nd\xfcr\xfclm\xfcş par\xe7alar farklı y\xf6nelimde yerleştirilmiştir.</li>\n            <li>2D kesit g\xf6r\xfcn\xfcmleri \xfcretim i\xe7in kullanılabilir.</li>\n            <li>Minimum israf hedefi ile optimize edilmiştir.</li>\n          </ul>\n        </div>\n      </body>\n      </html>\n    '),n=window.open("","_blank");n&&(n.document.write(l),n.document.close(),n.print())},className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold px-8 py-4 rounded-xl flex items-center justify-center mx-auto transition-all duration-300 hover:scale-105 shadow-lg shadow-blue-200/50",children:[(0,i.jsx)(b.A,{className:"w-6 h-6 mr-3"}),"PDF RAPORU OLUŞTUR",(0,i.jsx)(y.A,{className:"w-5 h-5 ml-3"})]}),(0,i.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:[(0,i.jsx)("p",{children:"• Ham malzeme listesi • Par\xe7a detayları • Optimizasyon sonu\xe7ları"}),(0,i.jsx)("p",{children:"• Pozisyon bilgileri • Verimlilik analizi • Kesim planları"})]})]})})]})}},2964:(e,t,a)=>{Promise.resolve().then(a.bind(a,2513))}},e=>{var t=t=>e(e.s=t);e.O(0,[367,831,683,413,146,441,684,358],()=>t(2964)),_N_E=e.O()}]);